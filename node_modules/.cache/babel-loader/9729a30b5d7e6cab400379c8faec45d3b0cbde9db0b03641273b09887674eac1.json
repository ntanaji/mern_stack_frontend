{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DeviceList(){const url='https://mern-app-k6b4.onrender.com/devices/';const[deviceForm,setDeviceForm]=useState([]);const deleteDevice=_id=>{axios.delete(url+\"delete-device/\"+_id).then(()=>{console.log(\"Data successfully deleted!\");}).catch(error=>{console.log(error);});};useEffect(()=>{axios.get(url).then(res=>{setDeviceForm(res.data.data);}).catch(error=>{console.log(error);});},[deviceForm]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Device Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Device Type\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Locked\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:deviceForm.map((device,index)=>{return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:device.deviceName}),/*#__PURE__*/_jsx(\"td\",{children:device.deviceType}),/*#__PURE__*/_jsx(\"td\",{children:device.status}),/*#__PURE__*/_jsx(\"td\",{children:device.locked?\"locked\":\"unlocked\"}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary btn-sm me-2\",to:\"/edit-device/\"+device._id,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:()=>deleteDevice(device._id),children:\"Delete\"})]})]},index);})})]})});}export default DeviceList;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","jsx","_jsx","jsxs","_jsxs","DeviceList","url","deviceForm","setDeviceForm","deleteDevice","_id","delete","then","console","log","catch","error","get","res","data","children","className","scope","map","device","index","deviceName","deviceType","status","locked","to","onClick"],"sources":["D:/NodeJs-Poc/react-mern-stack-crud/src/components/DeviceList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction DeviceList() {\r\n\r\n    const url = 'https://mern-app-k6b4.onrender.com/devices/';\r\n\r\n    const [deviceForm, setDeviceForm] = useState([]);\r\n\r\n    const deleteDevice = (_id) => {\r\n        axios\r\n            .delete(url + \"delete-device/\" + _id)\r\n            .then(() => {\r\n                console.log(\"Data successfully deleted!\");\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(url)\r\n            .then((res) => {\r\n                setDeviceForm(res.data.data);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }, [deviceForm]);\r\n\r\n    return (\r\n        <div>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">Device Name</th>\r\n                        <th scope=\"col\">Device Type</th>\r\n                        <th scope=\"col\">Status</th>\r\n                        <th scope=\"col\">Locked</th>\r\n                        <th scope=\"col\">Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {deviceForm.map((device, index) => {\r\n                        return (\r\n                            <tr key={index}>\r\n                                <td>{device.deviceName}</td>\r\n                                <td>{device.deviceType}</td>\r\n                                <td>{device.status}</td>\r\n                                <td>{device.locked ? \"locked\" : \"unlocked\"}</td>\r\n                                <td>\r\n                                    <Link\r\n                                        className=\"btn btn-primary btn-sm me-2\"\r\n                                        to={\"/edit-device/\" + device._id}\r\n                                    >\r\n                                        Edit\r\n                                    </Link>\r\n                                    <button\r\n                                        className=\"btn btn-danger btn-sm\"\r\n                                        onClick={() => deleteDevice(device._id)}\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        );\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\nexport default DeviceList;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}